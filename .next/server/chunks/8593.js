"use strict";exports.id=8593,exports.ids=[8593],exports.modules={10617:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(41680).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},19417:(e,s,a)=>{a.r(s),a.d(s,{FilterButton:()=>P,default:()=>D});var t=a(45512),l=a(58009),r=a(85668),i=a(97203),n=a(35668),o=a(15907),c=a(86645),d=a(61038);let m=l.createContext(null);function x(){let e=l.useContext(m);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}function u({orientation:e="horizontal",opts:s,setApi:a,plugins:r,className:n,children:o,...d}){let[x,u]=(0,i.A)({...s,axis:"horizontal"===e?"x":"y"},r),[g,h]=l.useState(!1),[p,f]=l.useState(!1),j=l.useCallback(e=>{e&&(h(e.canScrollPrev()),f(e.canScrollNext()))},[]),w=l.useCallback(()=>{u?.scrollPrev()},[u]),y=l.useCallback(()=>{u?.scrollNext()},[u]),b=l.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),w()):"ArrowRight"===e.key&&(e.preventDefault(),y())},[w,y]);return l.useEffect(()=>{u&&a&&a(u)},[u,a]),l.useEffect(()=>{if(u)return j(u),u.on("reInit",j),u.on("select",j),()=>{u?.off("select",j)}},[u,j]),(0,t.jsx)(m.Provider,{value:{carouselRef:x,api:u,opts:s,orientation:e||(s?.axis==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:y,canScrollPrev:g,canScrollNext:p},children:(0,t.jsx)("div",{onKeyDownCapture:b,className:(0,c.cn)("relative",n),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...d,children:o})})}function g({className:e,...s}){let{carouselRef:a,orientation:l}=x();return(0,t.jsx)("div",{ref:a,className:"overflow-hidden","data-slot":"carousel-content",children:(0,t.jsx)("div",{className:(0,c.cn)("flex","horizontal"===l?"-ml-4":"-mt-4 flex-col",e),...s})})}function h({className:e,...s}){let{orientation:a}=x();return(0,t.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:(0,c.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===a?"pl-4":"pt-4",e),...s})}function p({className:e,variant:s="outline",size:a="icon",...l}){let{orientation:r,scrollPrev:i,canScrollPrev:o}=x();return(0,t.jsxs)(d.$,{"data-slot":"carousel-previous",variant:s,size:a,className:(0,c.cn)("absolute size-8 rounded-full","horizontal"===r?"top-1/2 -left-8 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!o,onClick:i,...l,children:[(0,t.jsx)(n.A,{}),(0,t.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}function f({className:e,variant:s="outline",size:a="icon",...l}){let{orientation:r,scrollNext:i,canScrollNext:n}=x();return(0,t.jsxs)(d.$,{"data-slot":"carousel-next",variant:s,size:a,className:(0,c.cn)("absolute size-8 rounded-full","horizontal"===r?"top-1/2 -right-8 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!n,onClick:i,...l,children:[(0,t.jsx)(o.A,{}),(0,t.jsx)("span",{className:"sr-only",children:"Next slide"})]})}function j({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,c.cn)("bg-accent animate-pulse rounded-md",e),...s})}var w=a(2543);let y=({data:e=[],loading:s=!1,title:a="Category Products"})=>{if(s)return(0,t.jsxs)("div",{className:"py-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:a}),(0,t.jsx)("div",{className:"flex gap-4 px-4",children:Array.from({length:5}).map((e,s)=>(0,t.jsx)(j,{className:"w-[230px] h-[390px] rounded-2xl"},s))})]});let l=e.map(e=>{let s=e.mrp||0,a=e.sellingPrice||0;return{id:e._id||e.id,name:e.productName||e.name||"Unnamed",weight:e.weight||"1 unit",seller:e.brand||e.seller||"Unknown",discount:s&&a?Math.round((s-a)/s*100):0,originalPrice:s,discountedPrice:a,image:e.images?.[0]||e.image||"/home/grocery/broccoli.png",time:e.dealEndTime||e.time||null}});return(0,t.jsxs)("div",{className:"py-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:a}),(0,t.jsxs)(u,{className:"w-full mx-auto",children:[(0,t.jsx)(g,{className:"-ml-4 pr-[12%]",children:l.map(e=>(0,t.jsx)(h,{className:"pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-[16.66%] flex-shrink-0",children:(0,t.jsx)("div",{className:"p-1",children:(0,t.jsx)(w.A,{product:e})})},e.id))}),(0,t.jsx)(p,{}),(0,t.jsx)(f,{})]})]})};var b=a(95899),v=a(45103),N=a(28531),k=a.n(N),A=a(44269),S=a(76438),C=a(16873),U=a(99455),E=a(10069),_=a(90993);let z=()=>{let[e,s]=(0,l.useState)(!1),{data:a,status:r}=(0,_.useSession)(),i="authenticated"===r&&!!a?.user,[n,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),m=(0,l.useRef)(null);return((0,l.useEffect)(()=>{o(!0);let a=()=>{d(window.scrollY>10)};window.addEventListener("scroll",a);let t=a=>{m.current&&!m.current.contains(a.target)&&e&&s(!1)};return document.addEventListener("mousedown",t),()=>{window.removeEventListener("scroll",a),document.removeEventListener("mousedown",t)}},[e]),n)?(0,t.jsxs)("nav",{className:`sticky top-0 z-50 bg-white transition-all duration-300 ${c?"shadow-md":"shadow-sm"} border-b border-yellow-500`,children:[(0,t.jsxs)("div",{className:"mx-auto px-4 sm:px-16 lg:px-20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-14 sm:h-16 md:h-20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 sm:gap-6 md:gap-12",children:[(0,t.jsx)("button",{onClick:()=>s(!e),className:"md:hidden p-2 hover:bg-yellow-300/40 rounded-lg transition-colors","aria-label":e?"Close menu":"Open menu",children:e?(0,t.jsx)(A.A,{className:"h-6 w-6 text-gray-700"}):(0,t.jsx)(S.A,{className:"h-6 w-6 text-gray-700"})}),(0,t.jsx)(k(),{href:"/",className:"flex-shrink-0",children:(0,t.jsx)(v.default,{src:"/auth-asset/logo.png",alt:"Logo",width:82,height:68,className:"hover:scale-105 transition-transform",priority:!0})}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(U.A,{})})]}),(0,t.jsx)("form",{className:"hidden md:flex flex-1 max-w-2xl mx-4 lg:mx-8",children:(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(C.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,t.jsx)("input",{type:"text",placeholder:'Search "stores"',className:"w-full pl-10 pr-4 py-2.5 bg-white rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 placeholder-gray-500 text-gray-700 transition-all border border-transparent hover:border-yellow-400"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[(0,t.jsx)("button",{className:"md:hidden p-2 hover:bg-yellow-300/40 rounded-lg transition-colors","aria-label":"Search",children:(0,t.jsx)(C.A,{className:"h-6 w-6 text-gray-700"})}),i?(0,t.jsx)(E.A,{}):(0,t.jsxs)("div",{className:"flex gap-1.5 sm:gap-2",children:[(0,t.jsx)(k(),{href:"/auth/signup",className:"px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm md:text-base bg-yellow-500 shadow-2xl rounded-lg font-medium text-white hover:bg-yellow-50 hover:text-black transition",children:"Register"}),(0,t.jsx)(k(),{href:"/auth/login",className:"px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm md:text-base border bg-white border-yellow-500 shadow-2xl rounded-lg font-medium hover:bg-white hover:text-orange-400 transition",children:"Log In"})]})]})]}),(0,t.jsx)("div",{className:"md:hidden pb-4 px-2",children:(0,t.jsxs)("form",{className:"relative",children:[(0,t.jsx)(C.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,t.jsx)("input",{type:"text",placeholder:'Search "stores"',className:"w-full pl-10 pr-4 py-2.5 bg-white rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 placeholder-gray-500 text-gray-700 transition-all border border-transparent hover:border-yellow-400"})]})})]}),e&&(0,t.jsx)("div",{ref:m,className:"md:hidden absolute top-full left-0 w-full bg-white border-b border-yellow-500 shadow-lg py-2 animate-in slide-in-from-top duration-300",children:(0,t.jsx)(U.A,{isMobile:!0})})]}):null},P=({children:e})=>(0,t.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1.5 border rounded-md hover:bg-gray-100 w-full md:w-auto justify-center text-sm",children:[(0,t.jsx)(v.default,{src:"/categories/icon.svg",alt:"icon",width:16,height:16,className:"shrink-0"}),e,(0,t.jsx)(v.default,{src:"/categories/down.svg",alt:"arrow",width:12,height:12,className:"ml-1"})]}),L=({category:e})=>(0,t.jsx)(k(),{href:`/categories/${e.slug}`,className:"group",children:(0,t.jsxs)("div",{className:"flex flex-col items-center p-1 hover:bg-gray-50 rounded-lg transition-all",children:[(0,t.jsx)("div",{className:"relative w-12 h-12 md:w-14 md:h-14",children:(0,t.jsx)(v.default,{src:e.imageUrl||"/categories/default.png",alt:e.name,fill:!0,className:"object-contain",onError:e=>{e.target.src="/categories/default.png"}})}),(0,t.jsx)("p",{className:"text-center mt-1 text-xs md:text-sm font-medium group-hover:text-blue-600 truncate w-full",children:e.name})]})}),F=()=>(0,t.jsx)("div",{className:"w-full max-w-[1700px] mx-auto px-4 md:px-6"}),D=()=>{let[e,s]=(0,l.useState)([]),[a,i]=(0,l.useState)([]),[n,o]=(0,l.useState)([]),[d,m]=(0,l.useState)(!0),[x,u]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=async()=>{try{let e=await r.A.get("http://localhost:4000/lmd/api/v1/retail/products/featured",{headers:{"Content-Type":"application/json"},params:{limit:10}});if("success"===e.data.status)i(e.data.data||[]);else throw Error("Failed to fetch featured products")}catch(e){console.log("Using dummy featured products due to API error:",e.message),i((0,c.KD)(10))}},a=async()=>{try{let e=await r.A.get("http://localhost:4000/lmd/api/v1/retail/products/best-sellers",{headers:{"Content-Type":"application/json"},params:{limit:10}});if("success"===e.data.status)o(e.data.data||[]);else throw Error("Failed to fetch best seller products")}catch(e){console.log("Using dummy best seller products due to API error:",e.message),o((0,c.KD)(10))}};(async()=>{try{m(!0),u(null);let e=await r.A.get("http://localhost:4000/lmd/api/v1/retail/categories",{headers:{"Content-Type":"application/json"}});if(e.data.success)s(e.data.data||[]);else throw Error("Failed to fetch categories")}catch(e){console.log("Using dummy data due to API error:",e.message),u("Failed to load categories"),s([{_id:"cat-1",name:"Electronics",slug:"electronics",imageUrl:"/categories/all.png"},{_id:"cat-2",name:"Fashion",slug:"fashion",imageUrl:"/categories/bath-beauty.png"},{_id:"cat-3",name:"Grocery",slug:"grocery",imageUrl:"/categories/fruits-vegetables.png"},{_id:"cat-4",name:"Home & Living",slug:"home-living",imageUrl:"/categories/home-care-hygiene.png"},{_id:"cat-5",name:"Sports",slug:"sports",imageUrl:"/categories/baby-care.png"},{_id:"cat-6",name:"Beverages",slug:"beverages",imageUrl:"/categories/beverages.png"},{_id:"cat-7",name:"Bakery & Dairy",slug:"bakery-dairy",imageUrl:"/categories/bakery-dairy.png"},{_id:"cat-8",name:"Snacks",slug:"snacks",imageUrl:"/categories/snacks.png"},{_id:"cat-9",name:"Kitchenware",slug:"kitchenware",imageUrl:"/categories/kitchenware-appliances.png"},{_id:"cat-10",name:"Cleaning",slug:"cleaning",imageUrl:"/categories/cleaning-household.png"},{_id:"cat-11",name:"Beauty",slug:"beauty",imageUrl:"/categories/makeup.png"},{_id:"cat-12",name:"Desserts",slug:"desserts",imageUrl:"/categories/desserts.png"}])}finally{m(!1)}})(),e(),a()},[]),(0,t.jsxs)("main",{className:"space-y-4 md:space-y-6",children:[(0,t.jsx)(z,{}),(0,t.jsxs)("section",{className:"w-full max-w-[1700px] mx-auto px-4 md:px-6 mt-2 flex flex-col md:flex-row justify-between items-center gap-3",children:[(0,t.jsx)("nav",{className:"text-lg font-semibold text-black",children:(0,t.jsx)(k(),{href:"/categories",className:"hover:underline",children:"Categories"})}),(0,t.jsxs)("div",{className:"flex gap-2 w-full md:w-auto justify-center md:justify-end",children:[(0,t.jsx)(P,{children:"Filters"}),(0,t.jsx)(P,{children:"Sort"})]})]}),(0,t.jsx)("section",{className:"w-full max-w-[1700px] mx-auto px-4 md:px-6",children:d?(0,t.jsx)("div",{className:"grid grid-cols-3 xs:grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-3",children:[...Array(12)].map((e,s)=>(0,t.jsx)("div",{className:"animate-pulse",children:(0,t.jsxs)("div",{className:"flex flex-col items-center p-1",children:[(0,t.jsx)("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-gray-200 rounded-lg mb-1"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-12"})]})},s))}):x?(0,t.jsx)("div",{className:"text-center py-6 text-red-500",children:x}):(0,t.jsx)("div",{className:"grid grid-cols-3 xs:grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-3",children:e.map(e=>(0,t.jsx)(L,{category:e},e._id))})}),(0,t.jsxs)("section",{className:"w-full max-w-[1700px] mx-auto px-4 md:px-6",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Featured Products"})}),(0,t.jsx)(y,{data:a,loading:d})]}),(0,t.jsxs)("section",{className:"w-full max-w-[1700px] mx-auto px-4 md:px-6",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Best Sellers"})}),(0,t.jsx)(y,{data:n,loading:d})]}),(0,t.jsx)(F,{}),(0,t.jsx)(b.A,{})]})}}};