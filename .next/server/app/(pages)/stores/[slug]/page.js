(()=>{var e={};e.id=8271,e.ids=[8271],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23230:(e,t,r)=>{Promise.resolve().then(r.bind(r,37378))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30524:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(70260),a=r(28203),n=r(25155),o=r.n(n),l=r(67292),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d={children:["",{children:["(pages)",{children:["stores",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,37378)),"G:\\lastminutedeal\\lmdfrontend\\src\\app\\(pages)\\stores\\[slug]\\page.jsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,62804)),"G:\\lastminutedeal\\lmdfrontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["G:\\lastminutedeal\\lmdfrontend\\src\\app\\(pages)\\stores\\[slug]\\page.jsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(pages)/stores/[slug]/page",pathname:"/stores/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},31251:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(45512),a=r(45103),n=r(28531),o=r.n(n),l=r(79334);let i=()=>{let e=(0,l.usePathname)();return(0,s.jsxs)("div",{className:"w-[280px] h-screen bg-gray-50 shadow-sm border-r border-gray-100 p-6 flex flex-col",children:[(0,s.jsx)(o(),{href:"/",className:"pb-6 mb-6 border-b border-gray-100",children:(0,s.jsx)(a.default,{src:"/auth-asset/logo.png",alt:"Logo",width:80,height:60,className:"hover:scale-105 transition-transform"})}),(0,s.jsx)("nav",{className:"flex flex-col gap-1 flex-1",children:[{name:"Home",path:"/",icon:"/home/sidebar/home.png"},{name:"Categories",path:"/categories",icon:"/home/sidebar/categories2.png"},{name:"Stores",path:"/stores",icon:"/home/sidebar/stores2.png"},{name:"Cart",path:"/cart",icon:"/home/sidebar/cart2.png"},{name:"Orders",path:"/orders",icon:"/home/sidebar/orders2.png"}].map(t=>(0,s.jsx)(o(),{href:t.path,children:(0,s.jsxs)("div",{className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all
                ${e===t.path?"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 font-semibold shadow-sm":"text-gray-600 hover:bg-gray-50 hover:pl-4"}`,children:[(0,s.jsx)(a.default,{src:t.icon,alt:t.name,width:22,height:22,className:`${e===t.path?"opacity-100":"opacity-70"}`}),(0,s.jsx)("span",{className:"text-[15px]",children:t.name})]})},t.name))}),(0,s.jsx)("div",{className:"pt-6 border-t border-gray-100",children:(0,s.jsx)(o(),{href:"/settings",children:(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 text-gray-600 hover:bg-gray-50 rounded-xl transition hover:pl-4",children:[(0,s.jsx)(a.default,{src:"/home/sidebar/settings.png",alt:"Settings",width:22,height:22,className:"opacity-70"}),(0,s.jsx)("span",{className:"text-[15px]",children:"Settings"})]})})})]})}},33873:e=>{"use strict";e.exports=require("path")},37378:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"G:\\\\lastminutedeal\\\\lmdfrontend\\\\src\\\\app\\\\(pages)\\\\stores\\\\[slug]\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"G:\\lastminutedeal\\lmdfrontend\\src\\app\\(pages)\\stores\\[slug]\\page.jsx","default")},59070:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(45512),a=r(79334),n=r(58009),o=r(41764),l=r(31251),i=r(45103);let d=({name:e,location:t,banner:r})=>{let[a,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{o(Date.now()+10883e3)},[]);let l=(e=>{if(!e)return null;try{let t=new Date(e),r=new Date;if(t<r)return"Deal Expired";return`Ends: ${t.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}`}catch(e){return null}})(a);return(0,s.jsxs)("div",{className:"relative w-full p-10",children:[(0,s.jsx)(i.default,{src:r,alt:`${e} Store`,width:1200,height:500,className:"w-full h-auto rounded-lg object-contain",priority:!0}),(0,s.jsxs)("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-[80%] h-[200px] bg-[#EECB9F] p-10 rounded-2xl shadow-lg flex flex-col justify-around",children:[(0,s.jsx)("div",{className:`mb-2 text-center text-xs font-semibold p-2 rounded-lg shadow-sm border w-fit mx-auto ${"Deal Expired"===l?"text-red-600 bg-red-50 border-red-200":"text-blue-700 bg-blue-50 border-blue-200"}`,children:l}),(0,s.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,s.jsxs)("div",{className:"text-black font-semibold",children:[(0,s.jsx)("p",{className:"text-[34px]",children:e}),(0,s.jsx)("p",{className:"text-2xl opacity-80",children:t})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{className:"bg-white text-black text-[40px] font-semibold px-6 py-2 rounded-lg shadow-md hover:bg-gray-200 transition-all",disabled:"Deal Expired"===l||!a,children:"Deal Expired"===l?"Deal Expired":"Grab Deal"})})]})]})]})};var c=r(26875),p=r(28531),m=r.n(p);let x=()=>{let{slug:e}=(0,a.useParams)(),[t,r]=(0,n.useState)(null),[p,x]=(0,n.useState)({}),[u,h]=(0,n.useState)(!0),[f,g]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async function(){try{let t=await fetch(`/api/stores/${e}`);if(!t.ok)throw Error("Store not found");let s=await t.json();r(s.data)}catch(e){console.error(e),g("Store not found")}})()},[e]),(0,n.useEffect)(()=>{t&&(async()=>{try{let r={};await Promise.all(t.sections.map(async t=>{let s=await fetch(`/api/products/store/${e}/${encodeURIComponent(t)}`);if(!s.ok){r[t]=[];return}let a=await s.json();r[t]=a.data})),x(r)}catch(e){console.error(e),x({})}finally{h(!1)}})()},[t,e]),f)?(0,s.jsxs)("div",{className:"flex min-h-screen",children:[(0,s.jsx)(l.default,{}),(0,s.jsx)("div",{className:"flex-1 bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-2xl text-red-600 font-medium",children:f})})]}):!t||u?(0,s.jsxs)("div",{className:"flex min-h-screen",children:[(0,s.jsx)(l.default,{}),(0,s.jsx)("div",{className:"flex-1 bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-2xl text-gray-600",children:"Loadingâ€¦"})})]}):(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(l.default,{}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(o.default,{}),(0,s.jsxs)("div",{className:"p-6 mx-auto",children:[(0,s.jsxs)("nav",{className:"mb-4 text-black text-2xl",children:[(0,s.jsx)(m(),{href:"/stores",className:"hover:underline font-medium ",children:"Stores"})," ","> ",t.name]}),(0,s.jsx)(d,{name:t.name,location:t.location,banner:t.banner}),(0,s.jsx)("div",{className:"mt-12 bg-white rounded-xl shadow-lg overflow-hidden",children:(0,s.jsx)(i.default,{src:`/store/${e}-promo.png`,alt:`${t.name} promotion`,width:1200,height:500,className:"w-full h-[400px] object-cover",priority:!0})}),(0,s.jsx)("div",{className:"mt-12 space-y-20",children:t.sections.map(r=>{let a=p[r]||[];return(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-8 text-gray-900",children:r}),a.length>0?(0,s.jsx)(c.A,{slug:e,name:t.name,location:t.location,logo:t.logo,distance:t.distance,products:a}):(0,s.jsx)("div",{className:"text-center py-12 bg-white rounded-lg",children:(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:"No products available in this category"})})]},r)})})]})]})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63398:(e,t,r)=>{Promise.resolve().then(r.bind(r,59070))},79551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[5994,7065,8077,5684,7519,6234,5600,3473,4082],()=>r(30524));module.exports=s})();