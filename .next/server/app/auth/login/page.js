(()=>{var e={};e.id=4859,e.ids=[4859],e.modules={849:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"G:\\\\lastminutedeal\\\\lmdfrontend\\\\src\\\\app\\\\auth\\\\login\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"G:\\lastminutedeal\\lmdfrontend\\src\\app\\auth\\login\\page.jsx","default")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8866:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33694:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(70260),a=r(28203),l=r(25155),n=r.n(l),o=r(67292),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d={children:["",{children:["auth",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,849)),"G:\\lastminutedeal\\lmdfrontend\\src\\app\\auth\\login\\page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,62804)),"G:\\lastminutedeal\\lmdfrontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["G:\\lastminutedeal\\lmdfrontend\\src\\app\\auth\\login\\page.jsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/login/page",pathname:"/auth/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},41680:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(58009);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:i,iconNode:d,...c},m)=>(0,s.createElement)("svg",{ref:m,...n,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:l("lucide",o),...c},[...d.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(i)?i:[i]])),i=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...n},i)=>(0,s.createElement)(o,{ref:i,iconNode:t,className:l(`lucide-${a(e)}`,r),...n}));return r.displayName=`${e}`,r}},47426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(45512),a=r(45103),l=r(28531),n=r.n(l),o=r(79334),i=r(58009),d=r(6868),c=r(81914),m=r(22403),u=r(69418),h=r(58990),x=r(90993),p=r(94209),g=r(8866);function f(){let[e,t]=(0,i.useState)(!1),[r,l]=(0,i.useState)(!1),[f,b]=(0,i.useState)(""),[w,j]=(0,i.useState)(!1),[v,y]=(0,i.useState)("phone"),[N,k]=(0,i.useState)(""),P=(0,o.useRouter)(),{data:A,status:C}=(0,x.useSession)(),{register:F,handleSubmit:S,formState:{errors:_},reset:G,watch:E}=(0,d.mN)({resolver:(0,c.u)(h.X5)});E("loginMethod");let q=async e=>{l(!0),k("");try{console.log("Attempting login with:",{[v]:e[v],password:"***"});let t={password:e.password,[v]:e[v]},r=await (0,x.signIn)("credentials",{redirect:!1,...t,callbackUrl:"/"});if(console.log("NextAuth response:",r),r?.error)throw Error(r.error);if(r?.ok&&r?.url)m.Ay.success("Login successful!"),P.push(r.url);else throw Error("Login failed. Please try again.")}catch(t){console.error("Login error:",t);let e="CredentialsSignin"===t.message?"Invalid credentials. Please try again.":t.message||"Login failed. Please try again later.";k(e),m.Ay.error(e)}finally{l(!1)}},D=async e=>{try{b(e),await (0,x.signIn)(e,{callbackUrl:"/"})}catch(t){m.Ay.error(`Failed to sign in with ${e}. Please try again.`),console.error(`${e} sign-in error:`,t),b("")}};return"loading"===C?(0,s.jsx)("div",{className:"flex min-h-screen bg-white items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500"})}):(0,s.jsxs)("div",{className:"flex min-h-screen bg-white",children:[(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsxs)("div",{className:"flex flex-col justify-center items-start max-w-[418px] mx-auto h-screen",children:[(0,s.jsx)(a.default,{src:"/auth-asset/logo.png",alt:"Logo",width:75,height:62,className:"mb-[32px]"}),(0,s.jsx)("h1",{className:"text-black text-[32px] font-medium",children:"Welcome back!"}),(0,s.jsx)("p",{className:"text-black text-[16px] font-medium",children:"Please login to continue to your account"}),(0,s.jsxs)("form",{className:"w-full max-w-md mt-[70px]",onSubmit:S(q),children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-black",children:"email"===v?"Email Address":"Phone Number"}),(0,s.jsx)("button",{type:"button",onClick:()=>{y(e=>"phone"===e?"email":"phone"),G()},className:"text-[#FFC107] text-xs hover:underline flex items-center gap-1",children:"email"===v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{size:12}),"Use phone instead"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.A,{size:12}),"Use email instead"]})})]}),"email"===v?(0,s.jsx)("input",{...F("email"),type:"email",className:`w-full p-3 border rounded-lg ${_.email?"border-red-500":"border-[#D9D9D9]"} focus:ring-2 focus:ring-yellow-500`,placeholder:"example@mail.com"}):(0,s.jsx)("input",{...F("phone"),type:"tel",className:`w-full p-3 border rounded-lg ${_.phone?"border-red-500":"border-[#D9D9D9]"} focus:ring-2 focus:ring-yellow-500`,placeholder:"3001234567"}),_[v]&&(0,s.jsx)("span",{className:"text-red-500 text-sm",children:_[v].message})]}),(0,s.jsxs)("div",{className:"mb-4 relative",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-black",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:e?"text":"password",...F("password"),className:`w-full p-3 border rounded-lg ${_.password?"border-red-500":"border-[#D9D9D9]"} focus:ring-2 focus:ring-yellow-500`,placeholder:"Enter your password"}),(0,s.jsx)("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:e?(0,s.jsx)(u._NO,{size:20}):(0,s.jsx)(u.Vap,{size:20})})]}),_.password&&(0,s.jsx)("span",{className:"text-red-500 text-sm",children:_.password.message})]}),(0,s.jsx)("div",{className:"flex justify-end mt-1",children:(0,s.jsx)(n(),{href:"/auth/forgotPassword",className:"text-[#FFC107] text-[12px] font-medium hover:underline",children:"Forgot password?"})}),(0,s.jsxs)("div",{className:"mt-[5px]",children:[(0,s.jsx)("input",{type:"checkbox",id:"remember",checked:w,onChange:e=>j(e.target.checked),className:"shrink-0 border border-black mr-[6px]"}),(0,s.jsx)("label",{htmlFor:"remember",className:"text-[14px] text-black",children:"Remember"})]}),(0,s.jsx)("button",{type:"submit",disabled:r,className:`w-full py-3 mt-6 bg-[#FFC107] text-white rounded-lg font-semibold 
                        hover:bg-yellow-600 transition-colors
                        ${r?"opacity-75 cursor-not-allowed":""}`,children:r?"Signing In...":"Sign In"}),N&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-4",children:N})]}),(0,s.jsxs)("div",{className:"flex items-center mt-[32px] mb-[40px] w-full max-w-md",children:[(0,s.jsx)("hr",{className:"flex-grow #F5F5F5"}),(0,s.jsx)("span",{className:"mx-4 text-black",children:"Or"}),(0,s.jsx)("hr",{className:"flex-grow #F5F5F5"})]}),(0,s.jsxs)("div",{className:"w-full flex justify-between mt-4 ",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("button",{type:"button",onClick:()=>D("google"),disabled:""!==f,className:"flex items-center px-6 py-2 border border-gray-300 rounded-full shadow-sm    hover:bg-gray-100 transition duration-200",children:[(0,s.jsx)(a.default,{src:"/auth-asset/google-logo.svg",alt:"Google",width:20,height:20}),(0,s.jsx)("span",{className:"ml-2 text-black text-sm font-medium",children:"google"===f?"Connecting...":"Sign in with Google"})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("button",{type:"button",onClick:()=>D("facebook"),disabled:""!==f,className:"flex items-center px-6 py-2 border border-gray-300 rounded-full shadow-sm    hover:bg-gray-100 transition duration-200",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",fill:"currentColor",children:(0,s.jsx)("path",{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"})}),(0,s.jsx)("span",{className:"ml-2 text-black text-sm font-medium",children:"facebook"===f?"Connecting...":"Sign in with Facebook"})]})})]}),(0,s.jsxs)("div",{className:"mt-4 text-sm text-black w-full flex justify-center items-center",children:["Don't have an account?",(0,s.jsx)(n(),{href:"/auth/signup",className:"text-[#FFC107] font-medium hover:underline ml-1",children:"Sign Up"})]})]})}),(0,s.jsx)("div",{className:"hidden md:block w-1/2  shrink-0 rounded-l-[40px] relative",children:(0,s.jsx)(a.default,{src:"/auth-asset/hero-bg.png",alt:"Background",layout:"fill",objectFit:"cover",className:"rounded-l-[40px]"})})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68415:(e,t,r)=>{Promise.resolve().then(r.bind(r,47426))},79551:e=>{"use strict";e.exports=require("url")},86567:(e,t,r)=>{Promise.resolve().then(r.bind(r,849))},94209:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[5994,7065,8077,5684,7519,6896,3609,2176],()=>r(33694));module.exports=s})();