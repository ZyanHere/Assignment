"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8038],{5126:(e,t,a)=>{a.d(t,{_:()=>r});var i=a(83391),s=a(46411),l=a(86316);let r=()=>{let e=(0,i.wA)(),t=(0,i.d4)(e=>e.cart);return{items:t.items,totalQuantity:t.totalQuantity,totalAmount:t.totalAmount,isOpen:t.isOpen,addItem:a=>{e((0,s.bE)(a)),setTimeout(()=>{let e={items:[...t.items,{...a,quantity:1,totalPrice:a.price}],totalQuantity:t.totalQuantity+1,totalAmount:t.totalAmount+a.price};(0,l.ug)(e)},0)},removeItem:a=>{e((0,s.dt)(a)),setTimeout(()=>{var e;let i={items:t.items.filter(e=>e.id!==a),totalQuantity:t.totalQuantity-((null===(e=t.items.find(e=>e.id===a))||void 0===e?void 0:e.quantity)||0),totalAmount:t.items.reduce((e,t)=>t.id!==a?e+t.totalPrice:e,0)};(0,l.ug)(i)},0)},increaseItemQuantity:a=>{e((0,s.o7)(a)),setTimeout(()=>{var e;let i={items:t.items.map(e=>e.id===a?{...e,quantity:e.quantity+1,totalPrice:(e.quantity+1)*e.price}:e),totalQuantity:t.totalQuantity+1,totalAmount:t.totalAmount+((null===(e=t.items.find(e=>e.id===a))||void 0===e?void 0:e.price)||0)};(0,l.ug)(i)},0)},decreaseItemQuantity:a=>{e((0,s.CG)(a)),setTimeout(()=>{let e=t.items.find(e=>e.id===a),i={items:(null==e?void 0:e.quantity)===1?t.items.filter(e=>e.id!==a):t.items.map(e=>e.id===a?{...e,quantity:e.quantity-1,totalPrice:(e.quantity-1)*e.price}:e),totalQuantity:t.totalQuantity-1,totalAmount:t.totalAmount-((null==e?void 0:e.price)||0)};(0,l.ug)(i)},0)},updateItemQuantity:(a,i)=>{e((0,s.RO)({id:a,quantity:i})),setTimeout(()=>{let e=t.items.find(e=>e.id===a);if(e){let s={items:i>0?t.items.map(e=>e.id===a?{...e,quantity:i,totalPrice:i*e.price}:e):t.items.filter(e=>e.id!==a),totalQuantity:t.totalQuantity+(i-e.quantity),totalAmount:t.items.reduce((e,t)=>t.id===a?e+i*t.price:e+t.totalPrice,0)};(0,l.ug)(s)}},0)},clearAllItems:()=>{e((0,s.sX)()),setTimeout(()=>{(0,l.ug)({items:[],totalQuantity:0,totalAmount:0})},0)},toggleCartOpen:()=>{e((0,s.n)())},openCartDrawer:()=>{e((0,s.n2)())},closeCartDrawer:()=>{e((0,s.NS)())},isInCart:e=>t.items.some(t=>t.id===e),getItemQuantity:e=>{let a=t.items.find(t=>t.id===e);return a?a.quantity:0}}}},39840:(e,t,a)=>{a.d(t,{default:()=>h});var i=a(95155),s=a(5565),l=a(48173),r=a.n(l),n=a(40767),o=a(86710),d=a(20853),c=a(12115),u=a(69203),m=a(40681),x=a(2615);let h=()=>{let[e,t]=(0,c.useState)(!1),{data:a,status:l}=(0,x.useSession)(),h="authenticated"===l&&!!(null==a?void 0:a.user),[p,g]=(0,c.useState)(!1),[y,f]=(0,c.useState)(!1),b=(0,c.useRef)(null);return((0,c.useEffect)(()=>{g(!0);let a=()=>{f(window.scrollY>10)};window.addEventListener("scroll",a);let i=a=>{b.current&&!b.current.contains(a.target)&&e&&t(!1)};return document.addEventListener("mousedown",i),()=>{window.removeEventListener("scroll",a),document.removeEventListener("mousedown",i)}},[e]),p)?(0,i.jsxs)("nav",{className:"sticky top-0 z-50 bg-white transition-all duration-300 ".concat(y?"shadow-md":"shadow-sm"," border-b border-yellow-500"),children:[(0,i.jsxs)("div",{className:"mx-auto px-4 sm:px-16 lg:px-20",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between h-14 sm:h-16 md:h-20",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 sm:gap-6 md:gap-12",children:[(0,i.jsx)("button",{onClick:()=>t(!e),className:"md:hidden p-2 hover:bg-yellow-300/40 rounded-lg transition-colors","aria-label":e?"Close menu":"Open menu",children:e?(0,i.jsx)(n.A,{className:"h-6 w-6 text-gray-700"}):(0,i.jsx)(o.A,{className:"h-6 w-6 text-gray-700"})}),(0,i.jsx)(r(),{href:"/",className:"flex-shrink-0",children:(0,i.jsx)(s.default,{src:"/auth-asset/logo.png",alt:"Logo",width:82,height:68,className:"hover:scale-105 transition-transform",priority:!0})}),(0,i.jsx)("div",{className:"hidden md:block",children:(0,i.jsx)(u.A,{})})]}),(0,i.jsx)("form",{className:"hidden md:flex flex-1 max-w-2xl mx-4 lg:mx-8",children:(0,i.jsxs)("div",{className:"relative w-full",children:[(0,i.jsx)(d.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,i.jsx)("input",{type:"text",placeholder:'Search "stores"',className:"w-full pl-10 pr-4 py-2.5 bg-white rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 placeholder-gray-500 text-gray-700 transition-all border border-transparent hover:border-yellow-400"})]})}),(0,i.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[(0,i.jsx)("button",{className:"md:hidden p-2 hover:bg-yellow-300/40 rounded-lg transition-colors","aria-label":"Search",children:(0,i.jsx)(d.A,{className:"h-6 w-6 text-gray-700"})}),h?(0,i.jsx)(m.A,{}):(0,i.jsxs)("div",{className:"flex gap-1.5 sm:gap-2",children:[(0,i.jsx)(r(),{href:"/auth/signup",className:"px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm md:text-base bg-yellow-500 shadow-2xl rounded-lg font-medium text-white hover:bg-yellow-50 hover:text-black transition",children:"Register"}),(0,i.jsx)(r(),{href:"/auth/login",className:"px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm md:text-base border bg-white border-yellow-500 shadow-2xl rounded-lg font-medium hover:bg-white hover:text-orange-400 transition",children:"Log In"})]})]})]}),(0,i.jsx)("div",{className:"md:hidden pb-4 px-2",children:(0,i.jsxs)("form",{className:"relative",children:[(0,i.jsx)(d.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,i.jsx)("input",{type:"text",placeholder:'Search "stores"',className:"w-full pl-10 pr-4 py-2.5 bg-white rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 placeholder-gray-500 text-gray-700 transition-all border border-transparent hover:border-yellow-400"})]})})]}),e&&(0,i.jsx)("div",{ref:b,className:"md:hidden absolute top-full left-0 w-full bg-white border-b border-yellow-500 shadow-lg py-2 animate-in slide-in-from-top duration-300",children:(0,i.jsx)(u.A,{isMobile:!0})})]}):null}},46411:(e,t,a)=>{a.d(t,{Ay:()=>h,CG:()=>n,NS:()=>m,RO:()=>o,bE:()=>s,dt:()=>l,n:()=>c,n2:()=>u,o7:()=>r,sX:()=>d});let i=(0,a(48943).Z0)({name:"cart",initialState:{items:[],totalQuantity:0,totalAmount:0,isOpen:!1},reducers:{addToCart:(e,t)=>{let a=t.payload,i=e.items.find(e=>e.id===a.id);i?(i.quantity+=1,i.totalPrice=i.quantity*i.price):e.items.push({...a,quantity:1,totalPrice:a.price}),e.totalQuantity+=1,e.totalAmount=e.items.reduce((e,t)=>e+t.totalPrice,0)},removeFromCart:(e,t)=>{let a=t.payload,i=e.items.find(e=>e.id===a);i&&(e.totalQuantity-=i.quantity,e.totalAmount-=i.totalPrice,e.items=e.items.filter(e=>e.id!==a))},increaseQuantity:(e,t)=>{let a=t.payload,i=e.items.find(e=>e.id===a);i&&(i.quantity+=1,i.totalPrice=i.quantity*i.price,e.totalQuantity+=1,e.totalAmount=e.items.reduce((e,t)=>e+t.totalPrice,0))},decreaseQuantity:(e,t)=>{let a=t.payload,i=e.items.find(e=>e.id===a);i&&(1===i.quantity?e.items=e.items.filter(e=>e.id!==a):(i.quantity-=1,i.totalPrice=i.quantity*i.price),e.totalQuantity-=1,e.totalAmount=e.items.reduce((e,t)=>e+t.totalPrice,0))},updateQuantity:(e,t)=>{let{id:a,quantity:i}=t.payload,s=e.items.find(e=>e.id===a);if(s&&i>0){let t=s.quantity;s.quantity=i,s.totalPrice=s.quantity*s.price,e.totalQuantity+=i-t,e.totalAmount=e.items.reduce((e,t)=>e+t.totalPrice,0)}else s&&i<=0&&(e.items=e.items.filter(e=>e.id!==a),e.totalQuantity-=s.quantity,e.totalAmount=e.items.reduce((e,t)=>e+t.totalPrice,0))},clearCart:e=>{e.items=[],e.totalQuantity=0,e.totalAmount=0},toggleCart:e=>{e.isOpen=!e.isOpen},openCart:e=>{e.isOpen=!0},closeCart:e=>{e.isOpen=!1},loadCart:(e,t)=>{let a=t.payload;a&&(e.items=a.items||[],e.totalQuantity=a.totalQuantity||0,e.totalAmount=a.totalAmount||0)}}}),{addToCart:s,removeFromCart:l,increaseQuantity:r,decreaseQuantity:n,updateQuantity:o,clearCart:d,toggleCart:c,openCart:u,closeCart:m,loadCart:x}=i.actions,h=i.reducer},47370:(e,t,a)=>{a.d(t,{$:()=>o});var i=a(95155);a(12115);var s=a(12317),l=a(31027),r=a(77849);let n=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:l,asChild:o=!1,...d}=e,c=o?s.DX:"button";return(0,i.jsx)(c,{"data-slot":"button",className:(0,r.cn)(n({variant:a,size:l,className:t})),...d})}},70803:(e,t,a)=>{a.d(t,{A:()=>m});var i=a(95155),s=a(48173),l=a.n(s),r=a(86284),n=a(5565),o=a(47370),d=a(12115),c=a(5126);let u=e=>{let{product:t,storeName:a}=e,[s,r]=(0,d.useState)(null),{addItem:u,isInCart:m}=(0,c._)();(0,d.useEffect)(()=>{r(Date.now()+10883e3)},[]);let x=(e=>{if(!e)return null;try{let t=new Date(e),a=new Date;if(t<a)return"Deal Expired";return"Ends: ".concat(t.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}))}catch(e){return null}})(s);return(0,i.jsx)(l(),{href:"/products/".concat(t.id),className:"block hover:shadow-lg transition-all",children:(0,i.jsxs)("div",{className:"p-7 border rounded-lg shadow-md bg-white max-w-[250px] cursor-pointer",children:[(0,i.jsxs)("div",{className:"relative h-[192px] bg-blue-50 rounded-xl p-4 mb-4",children:[(0,i.jsx)(n.default,{src:t.image,alt:t.name,fill:!0,className:"object-contain"}),(0,i.jsx)(o.$,{onClick:e=>{e.preventDefault(),e.stopPropagation(),m(t.id)||u({id:t.id,name:t.name,brand:a,price:t.price,originalPrice:t.mrp,image:t.image,weight:t.category})},className:"absolute bottom-2 right-2 w-[63px] h-[33px] border font-medium rounded-md ".concat(m(t.id)?"bg-green-100 border-green-400 text-green-600":"bg-white border-blue-400 text-blue-500 hover:bg-blue-50"),children:m(t.id)?"✓":"ADD"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("p",{className:"text-lg font-semibold truncate",children:t.name}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:t.category}),(0,i.jsxs)("p",{className:"text-xs text-gray-500",children:["By ",a]}),x&&(0,i.jsx)("div",{className:"pt-2 text-xs font-semibold p-2 rounded-lg shadow-sm border w-fit ".concat("Deal Expired"===x?"text-red-600 bg-red-50 border-red-200":"text-blue-700 bg-blue-50 border-blue-200"),children:x}),(0,i.jsx)("div",{className:"pt-2",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("p",{className:"text-lg font-bold",children:["₹",t.price]}),(0,i.jsxs)("p",{className:"text-gray-500 text-sm line-through",children:["₹",t.mrp]})]})})]})]})})},m=e=>{let{slug:t,name:a,location:s,logo:n,distance:o,products:d}=e;return(0,i.jsxs)("div",{className:"w-full max-w-[1500px] mx-auto mt-6 mb-15",children:[(0,i.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,i.jsxs)(l(),{href:"/stores/".concat(t),className:"flex items-center gap-3",children:[(0,i.jsx)("img",{src:n,alt:"".concat(a," Logo"),className:"w-24 h-24 cursor-pointer"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-4xl font-semibold cursor-pointer",children:a}),(0,i.jsxs)("p",{className:"text-lg text-gray-500",children:[s," • ",o," away"]})]})]})}),(0,i.jsxs)(r.FN,{className:"relative",children:[(0,i.jsx)(r.Q8,{}),(0,i.jsx)(r.Wk,{className:"ml-4",children:d.map((e,t)=>(0,i.jsx)(r.A7,{className:"pl-2 ".concat(t===d.length-1?"basis-[30%]":"basis-[22%]"),children:(0,i.jsx)(u,{product:e,storeName:a})},t))}),(0,i.jsx)(r.Oj,{})]})]})}},86284:(e,t,a)=>{a.d(t,{A7:()=>h,FN:()=>m,Oj:()=>g,Q8:()=>p,Wk:()=>x});var i=a(95155),s=a(12115),l=a(42576),r=a(87364),n=a(99053),o=a(77849),d=a(47370);let c=s.createContext(null);function u(){let e=s.useContext(c);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}function m(e){let{orientation:t="horizontal",opts:a,setApi:r,plugins:n,className:d,children:u,...m}=e,[x,h]=(0,l.A)({...a,axis:"horizontal"===t?"x":"y"},n),[p,g]=s.useState(!1),[y,f]=s.useState(!1),b=s.useCallback(e=>{e&&(g(e.canScrollPrev()),f(e.canScrollNext()))},[]),v=s.useCallback(()=>{null==h||h.scrollPrev()},[h]),w=s.useCallback(()=>{null==h||h.scrollNext()},[h]),j=s.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),v()):"ArrowRight"===e.key&&(e.preventDefault(),w())},[v,w]);return s.useEffect(()=>{h&&r&&r(h)},[h,r]),s.useEffect(()=>{if(h)return b(h),h.on("reInit",b),h.on("select",b),()=>{null==h||h.off("select",b)}},[h,b]),(0,i.jsx)(c.Provider,{value:{carouselRef:x,api:h,opts:a,orientation:t||((null==a?void 0:a.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:w,canScrollPrev:p,canScrollNext:y},children:(0,i.jsx)("div",{onKeyDownCapture:j,className:(0,o.cn)("relative",d),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...m,children:u})})}function x(e){let{className:t,...a}=e,{carouselRef:s,orientation:l}=u();return(0,i.jsx)("div",{ref:s,className:"overflow-hidden","data-slot":"carousel-content",children:(0,i.jsx)("div",{className:(0,o.cn)("flex","horizontal"===l?"-ml-4":"-mt-4 flex-col",t),...a})})}function h(e){let{className:t,...a}=e,{orientation:s}=u();return(0,i.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:(0,o.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===s?"pl-4":"pt-4",t),...a})}function p(e){let{className:t,variant:a="outline",size:s="icon",...l}=e,{orientation:n,scrollPrev:c,canScrollPrev:m}=u();return(0,i.jsxs)(d.$,{"data-slot":"carousel-previous",variant:a,size:s,className:(0,o.cn)("absolute size-8 rounded-full","horizontal"===n?"top-1/2 -left-8 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!m,onClick:c,...l,children:[(0,i.jsx)(r.A,{}),(0,i.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}function g(e){let{className:t,variant:a="outline",size:s="icon",...l}=e,{orientation:r,scrollNext:c,canScrollNext:m}=u();return(0,i.jsxs)(d.$,{"data-slot":"carousel-next",variant:a,size:s,className:(0,o.cn)("absolute size-8 rounded-full","horizontal"===r?"top-1/2 -right-8 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!m,onClick:c,...l,children:[(0,i.jsx)(n.A,{}),(0,i.jsx)("span",{className:"sr-only",children:"Next slide"})]})}},86316:(e,t,a)=>{a.d(t,{ug:()=>i,wD:()=>s});let i=e=>{localStorage.setItem("lmd-cart",JSON.stringify(e))},s=()=>{{let e=localStorage.getItem("lmd-cart");return e?JSON.parse(e):null}}}}]);