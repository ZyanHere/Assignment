"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5543],{32423:(e,s,a)=>{a.d(s,{A:()=>l});let l=(0,a(67401).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},42597:(e,s,a)=>{a.r(s),a.d(s,{FilterButton:()=>P,default:()=>F});var l=a(95155),t=a(12115),r=a(82651),i=a(42576),n=a(87364),o=a(99053),c=a(77849),d=a(47370);let m=t.createContext(null);function u(){let e=t.useContext(m);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}function x(e){let{orientation:s="horizontal",opts:a,setApi:r,plugins:n,className:o,children:d,...u}=e,[x,g]=(0,i.A)({...a,axis:"horizontal"===s?"x":"y"},n),[h,p]=t.useState(!1),[f,y]=t.useState(!1),j=t.useCallback(e=>{e&&(p(e.canScrollPrev()),y(e.canScrollNext()))},[]),v=t.useCallback(()=>{null==g||g.scrollPrev()},[g]),w=t.useCallback(()=>{null==g||g.scrollNext()},[g]),b=t.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),v()):"ArrowRight"===e.key&&(e.preventDefault(),w())},[v,w]);return t.useEffect(()=>{g&&r&&r(g)},[g,r]),t.useEffect(()=>{if(g)return j(g),g.on("reInit",j),g.on("select",j),()=>{null==g||g.off("select",j)}},[g,j]),(0,l.jsx)(m.Provider,{value:{carouselRef:x,api:g,opts:a,orientation:s||((null==a?void 0:a.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:w,canScrollPrev:h,canScrollNext:f},children:(0,l.jsx)("div",{onKeyDownCapture:b,className:(0,c.cn)("relative",o),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...u,children:d})})}function g(e){let{className:s,...a}=e,{carouselRef:t,orientation:r}=u();return(0,l.jsx)("div",{ref:t,className:"overflow-hidden","data-slot":"carousel-content",children:(0,l.jsx)("div",{className:(0,c.cn)("flex","horizontal"===r?"-ml-4":"-mt-4 flex-col",s),...a})})}function h(e){let{className:s,...a}=e,{orientation:t}=u();return(0,l.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:(0,c.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===t?"pl-4":"pt-4",s),...a})}function p(e){let{className:s,variant:a="outline",size:t="icon",...r}=e,{orientation:i,scrollPrev:o,canScrollPrev:m}=u();return(0,l.jsxs)(d.$,{"data-slot":"carousel-previous",variant:a,size:t,className:(0,c.cn)("absolute size-8 rounded-full","horizontal"===i?"top-1/2 -left-8 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!m,onClick:o,...r,children:[(0,l.jsx)(n.A,{}),(0,l.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}function f(e){let{className:s,variant:a="outline",size:t="icon",...r}=e,{orientation:i,scrollNext:n,canScrollNext:m}=u();return(0,l.jsxs)(d.$,{"data-slot":"carousel-next",variant:a,size:t,className:(0,c.cn)("absolute size-8 rounded-full","horizontal"===i?"top-1/2 -right-8 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!m,onClick:n,...r,children:[(0,l.jsx)(o.A,{}),(0,l.jsx)("span",{className:"sr-only",children:"Next slide"})]})}function y(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"skeleton",className:(0,c.cn)("bg-accent animate-pulse rounded-md",s),...a})}var j=a(82900);let v=e=>{let{data:s=[],loading:a=!1,title:t="Category Products"}=e;if(a)return(0,l.jsxs)("div",{className:"py-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:t}),(0,l.jsx)("div",{className:"flex gap-4 px-4",children:Array.from({length:5}).map((e,s)=>(0,l.jsx)(y,{className:"w-[230px] h-[390px] rounded-2xl"},s))})]});let r=s.map(e=>{var s;let a=e.mrp||0,l=e.sellingPrice||0;return{id:e._id||e.id,name:e.productName||e.name||"Unnamed",weight:e.weight||"1 unit",seller:e.brand||e.seller||"Unknown",discount:a&&l?Math.round((a-l)/a*100):0,originalPrice:a,discountedPrice:l,image:(null===(s=e.images)||void 0===s?void 0:s[0])||e.image||"/home/grocery/broccoli.png",time:e.dealEndTime||e.time||null}});return(0,l.jsxs)("div",{className:"py-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:t}),(0,l.jsxs)(x,{className:"w-full mx-auto",children:[(0,l.jsx)(g,{className:"-ml-4 pr-[12%]",children:r.map(e=>(0,l.jsx)(h,{className:"pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-[16.66%] flex-shrink-0",children:(0,l.jsx)("div",{className:"p-1",children:(0,l.jsx)(j.A,{product:e})})},e.id))}),(0,l.jsx)(p,{}),(0,l.jsx)(f,{})]})]})};var w=a(2311),b=a(5565),N=a(48173),k=a.n(N),A=a(40767),C=a(86710),S=a(20853),U=a(69203),_=a(40681),E=a(2615);let z=()=>{let[e,s]=(0,t.useState)(!1),{data:a,status:r}=(0,E.useSession)(),i="authenticated"===r&&!!(null==a?void 0:a.user),[n,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),m=(0,t.useRef)(null);return((0,t.useEffect)(()=>{o(!0);let a=()=>{d(window.scrollY>10)};window.addEventListener("scroll",a);let l=a=>{m.current&&!m.current.contains(a.target)&&e&&s(!1)};return document.addEventListener("mousedown",l),()=>{window.removeEventListener("scroll",a),document.removeEventListener("mousedown",l)}},[e]),n)?(0,l.jsxs)("nav",{className:"sticky top-0 z-50 bg-white transition-all duration-300 ".concat(c?"shadow-md":"shadow-sm"," border-b border-yellow-500"),children:[(0,l.jsxs)("div",{className:"mx-auto px-4 sm:px-16 lg:px-20",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between h-14 sm:h-16 md:h-20",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 sm:gap-6 md:gap-12",children:[(0,l.jsx)("button",{onClick:()=>s(!e),className:"md:hidden p-2 hover:bg-yellow-300/40 rounded-lg transition-colors","aria-label":e?"Close menu":"Open menu",children:e?(0,l.jsx)(A.A,{className:"h-6 w-6 text-gray-700"}):(0,l.jsx)(C.A,{className:"h-6 w-6 text-gray-700"})}),(0,l.jsx)(k(),{href:"/",className:"flex-shrink-0",children:(0,l.jsx)(b.default,{src:"/auth-asset/logo.png",alt:"Logo",width:82,height:68,className:"hover:scale-105 transition-transform",priority:!0})}),(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsx)(U.A,{})})]}),(0,l.jsx)("form",{className:"hidden md:flex flex-1 max-w-2xl mx-4 lg:mx-8",children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(S.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,l.jsx)("input",{type:"text",placeholder:'Search "stores"',className:"w-full pl-10 pr-4 py-2.5 bg-white rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 placeholder-gray-500 text-gray-700 transition-all border border-transparent hover:border-yellow-400"})]})}),(0,l.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4",children:[(0,l.jsx)("button",{className:"md:hidden p-2 hover:bg-yellow-300/40 rounded-lg transition-colors","aria-label":"Search",children:(0,l.jsx)(S.A,{className:"h-6 w-6 text-gray-700"})}),i?(0,l.jsx)(_.A,{}):(0,l.jsxs)("div",{className:"flex gap-1.5 sm:gap-2",children:[(0,l.jsx)(k(),{href:"/auth/signup",className:"px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm md:text-base bg-yellow-500 shadow-2xl rounded-lg font-medium text-white hover:bg-yellow-50 hover:text-black transition",children:"Register"}),(0,l.jsx)(k(),{href:"/auth/login",className:"px-2.5 sm:px-3 md:px-4 py-1.5 sm:py-2 text-xs sm:text-sm md:text-base border bg-white border-yellow-500 shadow-2xl rounded-lg font-medium hover:bg-white hover:text-orange-400 transition",children:"Log In"})]})]})]}),(0,l.jsx)("div",{className:"md:hidden pb-4 px-2",children:(0,l.jsxs)("form",{className:"relative",children:[(0,l.jsx)(S.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"}),(0,l.jsx)("input",{type:"text",placeholder:'Search "stores"',className:"w-full pl-10 pr-4 py-2.5 bg-white rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 placeholder-gray-500 text-gray-700 transition-all border border-transparent hover:border-yellow-400"})]})})]}),e&&(0,l.jsx)("div",{ref:m,className:"md:hidden absolute top-full left-0 w-full bg-white border-b border-yellow-500 shadow-lg py-2 animate-in slide-in-from-top duration-300",children:(0,l.jsx)(U.A,{isMobile:!0})})]}):null},P=e=>{let{children:s}=e;return(0,l.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1.5 border rounded-md hover:bg-gray-100 w-full md:w-auto justify-center text-sm",children:[(0,l.jsx)(b.default,{src:"/categories/icon.svg",alt:"icon",width:16,height:16,className:"shrink-0"}),s,(0,l.jsx)(b.default,{src:"/categories/down.svg",alt:"arrow",width:12,height:12,className:"ml-1"})]})},L=e=>{let{category:s}=e;return(0,l.jsx)(k(),{href:"/categories/".concat(s.slug),className:"group",children:(0,l.jsxs)("div",{className:"flex flex-col items-center p-1 hover:bg-gray-50 rounded-lg transition-all",children:[(0,l.jsx)("div",{className:"relative w-12 h-12 md:w-14 md:h-14",children:(0,l.jsx)(b.default,{src:s.imageUrl||"/categories/default.png",alt:s.name,fill:!0,className:"object-contain",onError:e=>{e.target.src="/categories/default.png"}})}),(0,l.jsx)("p",{className:"text-center mt-1 text-xs md:text-sm font-medium group-hover:text-blue-600 truncate w-full",children:s.name})]})})},M=()=>(0,l.jsx)("div",{className:"w-full max-w-[1700px] mx-auto px-4 md:px-6"}),F=()=>{let[e,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[n,o]=(0,t.useState)([]),[d,m]=(0,t.useState)(!0),[u,x]=(0,t.useState)(null);return(0,t.useEffect)(()=>{let e=async()=>{try{let e=await r.A.get("http://localhost:4000/lmd/api/v1/retail/products/featured",{headers:{"Content-Type":"application/json"},params:{limit:10}});if("success"===e.data.status)i(e.data.data||[]);else throw Error("Failed to fetch featured products")}catch(e){console.log("Using dummy featured products due to API error:",e.message),i((0,c.KD)(10))}},a=async()=>{try{let e=await r.A.get("http://localhost:4000/lmd/api/v1/retail/products/best-sellers",{headers:{"Content-Type":"application/json"},params:{limit:10}});if("success"===e.data.status)o(e.data.data||[]);else throw Error("Failed to fetch best seller products")}catch(e){console.log("Using dummy best seller products due to API error:",e.message),o((0,c.KD)(10))}};(async()=>{try{m(!0),x(null);let e=await r.A.get("http://localhost:4000/lmd/api/v1/retail/categories",{headers:{"Content-Type":"application/json"}});if(e.data.success)s(e.data.data||[]);else throw Error("Failed to fetch categories")}catch(e){console.log("Using dummy data due to API error:",e.message),x("Failed to load categories"),s([{_id:"cat-1",name:"Electronics",slug:"electronics",imageUrl:"/categories/all.png"},{_id:"cat-2",name:"Fashion",slug:"fashion",imageUrl:"/categories/bath-beauty.png"},{_id:"cat-3",name:"Grocery",slug:"grocery",imageUrl:"/categories/fruits-vegetables.png"},{_id:"cat-4",name:"Home & Living",slug:"home-living",imageUrl:"/categories/home-care-hygiene.png"},{_id:"cat-5",name:"Sports",slug:"sports",imageUrl:"/categories/baby-care.png"},{_id:"cat-6",name:"Beverages",slug:"beverages",imageUrl:"/categories/beverages.png"},{_id:"cat-7",name:"Bakery & Dairy",slug:"bakery-dairy",imageUrl:"/categories/bakery-dairy.png"},{_id:"cat-8",name:"Snacks",slug:"snacks",imageUrl:"/categories/snacks.png"},{_id:"cat-9",name:"Kitchenware",slug:"kitchenware",imageUrl:"/categories/kitchenware-appliances.png"},{_id:"cat-10",name:"Cleaning",slug:"cleaning",imageUrl:"/categories/cleaning-household.png"},{_id:"cat-11",name:"Beauty",slug:"beauty",imageUrl:"/categories/makeup.png"},{_id:"cat-12",name:"Desserts",slug:"desserts",imageUrl:"/categories/desserts.png"}])}finally{m(!1)}})(),e(),a()},[]),(0,l.jsxs)("main",{className:"space-y-4 md:space-y-6",children:[(0,l.jsx)(z,{}),(0,l.jsxs)("section",{className:"w-full max-w-[1700px] mx-auto px-4 md:px-6 mt-2 flex flex-col md:flex-row justify-between items-center gap-3",children:[(0,l.jsx)("nav",{className:"text-lg font-semibold text-black",children:(0,l.jsx)(k(),{href:"/categories",className:"hover:underline",children:"Categories"})}),(0,l.jsxs)("div",{className:"flex gap-2 w-full md:w-auto justify-center md:justify-end",children:[(0,l.jsx)(P,{children:"Filters"}),(0,l.jsx)(P,{children:"Sort"})]})]}),(0,l.jsx)("section",{className:"w-full max-w-[1700px] mx-auto px-4 md:px-6",children:d?(0,l.jsx)("div",{className:"grid grid-cols-3 xs:grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-3",children:[...Array(12)].map((e,s)=>(0,l.jsx)("div",{className:"animate-pulse",children:(0,l.jsxs)("div",{className:"flex flex-col items-center p-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-gray-200 rounded-lg mb-1"}),(0,l.jsx)("div",{className:"h-3 bg-gray-200 rounded w-12"})]})},s))}):u?(0,l.jsx)("div",{className:"text-center py-6 text-red-500",children:u}):(0,l.jsx)("div",{className:"grid grid-cols-3 xs:grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-3",children:e.map(e=>(0,l.jsx)(L,{category:e},e._id))})}),(0,l.jsxs)("section",{className:"w-full max-w-[1700px] mx-auto px-4 md:px-6",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Featured Products"})}),(0,l.jsx)(v,{data:a,loading:d})]}),(0,l.jsxs)("section",{className:"w-full max-w-[1700px] mx-auto px-4 md:px-6",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Best Sellers"})}),(0,l.jsx)(v,{data:n,loading:d})]}),(0,l.jsx)(M,{}),(0,l.jsx)(w.A,{})]})}},45471:(e,s,a)=>{a.d(s,{A:()=>l});let l=(0,a(67401).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},57223:(e,s,a)=>{a.d(s,{A:()=>l});let l=(0,a(67401).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},66889:(e,s,a)=>{a.d(s,{A:()=>l});let l=(0,a(67401).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},70865:(e,s,a)=>{a.d(s,{A:()=>l});let l=(0,a(67401).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}}]);