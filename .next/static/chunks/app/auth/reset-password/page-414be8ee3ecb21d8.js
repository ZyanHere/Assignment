(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4089],{45208:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(95155),o=r(12115),a=r(76046),l=r(5565),n=r(48173),i=r.n(n),c=r(55037),u=r(92888);function d(){let[e,t]=(0,o.useState)(""),[r,n]=(0,o.useState)(""),[d,m]=(0,o.useState)(!1),[p,f]=(0,o.useState)(!1),[h,b]=(0,o.useState)(!1),g=(0,a.useRouter)(),w=async t=>{t.preventDefault(),b(!0);try{if(!e||!r)throw Error("Please fill in all fields");if(e.length<6)throw Error("Password must be at least 6 characters long");if(e!==r)throw Error("Passwords do not match");let t=localStorage.getItem("reset-userId");if(console.log("Retrieved userId from localStorage:",t),!t)throw Error("Reset session expired. Please try again.");console.log("Making API call to reset password...");let s=await fetch("http://localhost:4000/lmd/api/v1/auth/customer/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,newPassword:e,confirmPassword:r})});console.log("API response status:",s.status);let o=await s.json();if(console.log("API response data:",o),!s.ok)throw Error(o.message||"Failed to reset password");localStorage.removeItem("reset-userId"),localStorage.removeItem("reset-email"),localStorage.removeItem("reset-phone"),c.Ay.success("Password reset successfully!"),g.push("/auth/login")}catch(e){console.error("Error in handleSubmit:",e),c.Ay.error(e.message)}finally{b(!1)}};return(0,s.jsxs)("div",{className:"flex min-h-screen bg-white",children:[(0,s.jsx)("div",{className:"w-1/2",children:(0,s.jsxs)("div",{className:"flex flex-col justify-center items-start max-w-[418px] mx-auto h-screen",children:[(0,s.jsx)(l.default,{src:"/auth-asset/logo.png",alt:"Logo",width:86,height:65,className:"mb-[32px]"}),(0,s.jsx)("h1",{className:"text-black text-[32px] font-medium height-[52px] width-[257px]",children:"Reset Password"}),(0,s.jsx)("p",{className:"text-[#828282] text-[20px] font-normal leading-[24px] tracking-[0.15px] mt-[32px]",children:"Enter your new password below."}),(0,s.jsxs)("form",{onSubmit:w,className:"w-full max-w-md mt-[32px]",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:d?"text":"password",value:e,onChange:e=>t(e.target.value),placeholder:"Enter new password",className:"w-full p-3 border border-[#D9D9D9] rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 pr-12"}),(0,s.jsx)("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:d?(0,s.jsx)(u._NO,{size:20}):(0,s.jsx)(u.Vap,{size:20})})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Confirm New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:p?"text":"password",value:r,onChange:e=>n(e.target.value),placeholder:"Confirm new password",className:"w-full p-3 border border-[#D9D9D9] rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 pr-12"}),(0,s.jsx)("button",{type:"button",onClick:()=>f(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:p?(0,s.jsx)(u._NO,{size:20}):(0,s.jsx)(u.Vap,{size:20})})]})]}),(0,s.jsx)("button",{type:"submit",disabled:h,className:"w-full py-3 bg-yellow-400 font-semibold rounded-lg transition-colors\n              ".concat(h?"opacity-75 cursor-not-allowed":"hover:bg-yellow-500"),children:h?"Resetting Password...":"RESET PASSWORD"})]}),(0,s.jsx)("div",{className:"mt-6 text-center w-full",children:(0,s.jsx)(i(),{href:"/auth/login",className:"hover:underline font-medium",children:"â† Back to Login"})})]})}),(0,s.jsx)("div",{className:"hidden md:block w-1/2 shrink-0 rounded-l-[40px] relative",children:(0,s.jsx)(l.default,{src:"/auth-asset/hero-bg.png",alt:"Decorative background",fill:!0,priority:!0,className:"rounded-l-[40px] object-cover"})})]})}},93405:(e,t,r)=>{Promise.resolve().then(r.bind(r,45208))},93435:(e,t,r)=>{"use strict";r.d(t,{k5:()=>u});var s=r(12115),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=s.createContext&&s.createContext(o),l=["attr","size","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var s,o,a;s=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(o))in s?Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>s.createElement(d,n({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>s.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:o,size:a,title:i}=e,u=function(e,t){if(null==e)return{};var r,s,o=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,l),d=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==a?s.createElement(a.Consumer,null,e=>t(e)):t(o)}}},e=>{var t=t=>e(e.s=t);e.O(0,[844,3738,5037,8441,6587,7358],()=>t(93405)),_N_E=e.O()}]);