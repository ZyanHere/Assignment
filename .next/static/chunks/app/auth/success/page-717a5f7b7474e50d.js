(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8033],{2931:(e,t,s)=>{Promise.resolve().then(s.bind(s,51070))},51070:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(95155),l=s(12115),n=s(76046),a=s(5565),i=s(83391);function o(){let e=(0,n.useRouter)(),[t,s]=(0,l.useState)(!1),[o,c]=(0,l.useState)(5),{phone:u,password:d}=(0,i.d4)(e=>e.user),h=async()=>{if(!u||!d){toast.error("Missing credentials");return}try{let t=await signIn("credentials",{redirect:!1,phone:u,password:d});t.ok&&!t.error?(await axios.get("/lmd/api/v1/csrf-token",{withCredentials:!0}),toast.success("Login successful!"),e.push("/")):toast.error("Login failed")}catch(e){toast.error("Something went wrong during login."),console.error(e)}};return(0,l.useEffect)(()=>{if(o>0){let e=setInterval(()=>{c(e=>e-1)},1e3);return()=>clearInterval(e)}e.push("/auth/location")},[o,e]),(0,r.jsxs)("div",{className:"flex min-h-screen bg-white",children:[(0,r.jsxs)("div",{className:"w-1/2 flex flex-col justify-center items-center max-w-[537px] mx-auto h-screen",children:[(0,r.jsx)("div",{role:"status","aria-label":"Account created successfully",className:"w-[154px] h-[154px] border-4 border-yellow-400 rounded-full flex items-center justify-center animate-fade-in",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-24 h-24 text-yellow-400",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h2",{className:"text-[45px] font-medium text-black mt-8",children:"Successfully"}),(0,r.jsxs)("p",{className:"text-gray-600 mt-4 text-center",children:["Redirecting to location setup in ",o," seconds..."]}),(0,r.jsx)("button",{onClick:()=>{s(!0),e.push("/auth/location")},disabled:t,className:"bg-yellow-400 text-white w-full max-w-[300px] py-4 mt-8 rounded-lg hover:bg-yellow-500 transition-colors ".concat(t?"opacity-75 cursor-not-allowed":""),"aria-label":"Continue to location setup",children:t?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24","aria-hidden":"true"}),"Redirecting..."]}):"CONTINUE NOW"}),(0,r.jsx)("button",{onClick:h,className:" text-blue-500 font-medium cursor-pointer pt-20",children:"Skip to Homepage"})]}),(0,r.jsx)("div",{className:"hidden md:block w-1/2 shrink-0 rounded-l-[40px] relative",children:(0,r.jsx)(a.default,{src:"/auth-asset/hero-bg.png",alt:"Background",fill:!0,priority:!0,className:"rounded-l-[40px] object-cover"})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3738,3391,8441,6587,7358],()=>t(2931)),_N_E=e.O()}]);