(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2192],{31297:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var l=s(95155),a=s(12115),r=s(76046),o=s(5565),n=s(48173),i=s.n(n),c=s(55037);function d(){let[e,t]=(0,a.useState)(""),[s,n]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),p=(0,r.useRouter)(),f=async t=>{t.preventDefault(),m(!0),h("");try{if(!e&&!s)throw Error("Please provide either email or phone number");if(s){let e=s.replace(/\D/g,"");if(10!==e.length)throw Error("Invalid phone number format. Please enter a 10-digit number.")}if(e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))throw Error("Please enter a valid email address");let t={};e&&(t.email=e),s&&(t.phone=s.replace(/\D/g,""));let l=await fetch("http://localhost:4000/lmd/api/v1/auth/customer/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await l.json();if(!l.ok)throw Error(a.message||"Failed to send OTP");localStorage.setItem("reset-userId",a.data.userId),localStorage.setItem("reset-email",e),localStorage.setItem("reset-phone",s),c.Ay.success("OTP sent successfully! Check your email and/or phone."),p.push("/auth/verification?flow=password-reset")}catch(e){c.Ay.error(e.message)}finally{m(!1)}};return(0,l.jsxs)("div",{className:"flex min-h-screen bg-white",children:[(0,l.jsx)("div",{className:"w-1/2",children:(0,l.jsxs)("div",{className:"flex flex-col justify-center items-start max-w-[418px] mx-auto h-screen",children:[(0,l.jsx)(o.default,{src:"/auth-asset/logo.png",alt:"Logo",width:86,height:65,className:"mb-[32px]"}),(0,l.jsx)("h1",{className:"text-black text-[32px] font-medium height-[52px] width-[257px]",children:"Forgot password"}),(0,l.jsx)("p",{className:"text-[#828282] text-[20px] font-normal leading-[24px] tracking-[0.15px] mt-[32px]",children:"Enter your email or phone number to receive a verification code."}),(0,l.jsxs)("form",{onSubmit:f,className:"w-full max-w-md mt-[32px]",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Email Address (Optional)"}),(0,l.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email address",className:"w-full p-3 border border-[#D9D9D9] rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Phone Number (Optional)"}),(0,l.jsx)("input",{type:"tel",value:s,onChange:e=>n(e.target.value),placeholder:"Enter your phone number",className:"w-full p-3 border border-[#D9D9D9] rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400"})]}),(0,l.jsx)("button",{type:"submit",disabled:d,className:"w-full py-3 bg-yellow-400 font-semibold rounded-lg transition-colors\n              ".concat(d?"opacity-75 cursor-not-allowed":"hover:bg-yellow-500"),children:d?"Sending OTP...":"SEND OTP"})]}),(0,l.jsx)("div",{className:"mt-6 text-center w-full",children:(0,l.jsx)(i(),{href:"/auth/login",className:"hover:underline font-medium",children:"← Back to Login"})})]})}),(0,l.jsx)("div",{className:"hidden md:block w-1/2 shrink-0 rounded-l-[40px] relative",children:(0,l.jsx)(o.default,{src:"/auth-asset/hero-bg.png",alt:"Decorative background",fill:!0,priority:!0,className:"rounded-l-[40px] object-cover"})})]})}},38632:(e,t,s)=>{Promise.resolve().then(s.bind(s,31297))}},e=>{var t=t=>e(e.s=t);e.O(0,[3738,5037,8441,6587,7358],()=>t(38632)),_N_E=e.O()}]);