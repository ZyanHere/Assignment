(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{7644:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var a=r(95155),t=r(5565),n=r(48173),i=r.n(n),l=r(76046),o=r(12115),m=r(69606),d=r(85060),c=r(55037),u=r(92888),h=r(63426),g=r(2615),x=r(43831),p=r(66462);function b(){let[e,s]=(0,o.useState)(!1),[r,n]=(0,o.useState)(!1),[b,w]=(0,o.useState)(""),[f,j]=(0,o.useState)(!1),[N,v]=(0,o.useState)("phone"),[y,P]=(0,o.useState)(""),z=(0,l.useRouter)(),{data:k,status:F}=(0,g.useSession)(),{register:A,handleSubmit:C,formState:{errors:q},reset:E,watch:S}=(0,m.mN)({resolver:(0,d.u)(h.X5)});S("loginMethod"),(0,o.useEffect)(()=>{"authenticated"===F&&k&&z.push("/")},[F,k,z]);let L=async e=>{n(!0),P("");try{console.log("Attempting login with:",{[N]:e[N],password:"***"});let s={password:e.password,[N]:e[N]},r=await (0,g.signIn)("credentials",{redirect:!1,...s,callbackUrl:"/"});if(console.log("NextAuth response:",r),null==r?void 0:r.error)throw Error(r.error);if((null==r?void 0:r.ok)&&(null==r?void 0:r.url))c.Ay.success("Login successful!"),z.push(r.url);else throw Error("Login failed. Please try again.")}catch(s){console.error("Login error:",s);let e="CredentialsSignin"===s.message?"Invalid credentials. Please try again.":s.message||"Login failed. Please try again later.";P(e),c.Ay.error(e)}finally{n(!1)}},D=async e=>{try{w(e),await (0,g.signIn)(e,{callbackUrl:"/"})}catch(s){c.Ay.error("Failed to sign in with ".concat(e,". Please try again.")),console.error("".concat(e," sign-in error:"),s),w("")}};return"loading"===F?(0,a.jsx)("div",{className:"flex min-h-screen bg-white items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500"})}):(0,a.jsxs)("div",{className:"flex min-h-screen bg-white",children:[(0,a.jsx)("div",{className:"w-1/2",children:(0,a.jsxs)("div",{className:"flex flex-col justify-center items-start max-w-[418px] mx-auto h-screen",children:[(0,a.jsx)(t.default,{src:"/auth-asset/logo.png",alt:"Logo",width:75,height:62,className:"mb-[32px]"}),(0,a.jsx)("h1",{className:"text-black text-[32px] font-medium",children:"Welcome back!"}),(0,a.jsx)("p",{className:"text-black text-[16px] font-medium",children:"Please login to continue to your account"}),(0,a.jsxs)("form",{className:"w-full max-w-md mt-[70px]",onSubmit:C(L),children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-black",children:"email"===N?"Email Address":"Phone Number"}),(0,a.jsx)("button",{type:"button",onClick:()=>{v(e=>"phone"===e?"email":"phone"),E()},className:"text-[#FFC107] text-xs hover:underline flex items-center gap-1",children:"email"===N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{size:12}),"Use phone instead"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{size:12}),"Use email instead"]})})]}),"email"===N?(0,a.jsx)("input",{...A("email"),type:"email",className:"w-full p-3 border rounded-lg ".concat(q.email?"border-red-500":"border-[#D9D9D9]"," focus:ring-2 focus:ring-yellow-500"),placeholder:"example@mail.com"}):(0,a.jsx)("input",{...A("phone"),type:"tel",className:"w-full p-3 border rounded-lg ".concat(q.phone?"border-red-500":"border-[#D9D9D9]"," focus:ring-2 focus:ring-yellow-500"),placeholder:"3001234567"}),q[N]&&(0,a.jsx)("span",{className:"text-red-500 text-sm",children:q[N].message})]}),(0,a.jsxs)("div",{className:"mb-4 relative",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-black",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:e?"text":"password",...A("password"),className:"w-full p-3 border rounded-lg ".concat(q.password?"border-red-500":"border-[#D9D9D9]"," focus:ring-2 focus:ring-yellow-500"),placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",onClick:()=>s(!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:e?(0,a.jsx)(u._NO,{size:20}):(0,a.jsx)(u.Vap,{size:20})})]}),q.password&&(0,a.jsx)("span",{className:"text-red-500 text-sm",children:q.password.message})]}),(0,a.jsx)("div",{className:"flex justify-end mt-1",children:(0,a.jsx)(i(),{href:"/auth/forgotPassword",className:"text-[#FFC107] text-[12px] font-medium hover:underline",children:"Forgot password?"})}),(0,a.jsxs)("div",{className:"mt-[5px]",children:[(0,a.jsx)("input",{type:"checkbox",id:"remember",checked:f,onChange:e=>j(e.target.checked),className:"shrink-0 border border-black mr-[6px]"}),(0,a.jsx)("label",{htmlFor:"remember",className:"text-[14px] text-black",children:"Remember"})]}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"w-full py-3 mt-6 bg-[#FFC107] text-white rounded-lg font-semibold \n                        hover:bg-yellow-600 transition-colors\n                        ".concat(r?"opacity-75 cursor-not-allowed":""),children:r?"Signing In...":"Sign In"}),y&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-4",children:y})]}),(0,a.jsxs)("div",{className:"flex items-center mt-[32px] mb-[40px] w-full max-w-md",children:[(0,a.jsx)("hr",{className:"flex-grow #F5F5F5"}),(0,a.jsx)("span",{className:"mx-4 text-black",children:"Or"}),(0,a.jsx)("hr",{className:"flex-grow #F5F5F5"})]}),(0,a.jsxs)("div",{className:"w-full flex justify-between mt-4 ",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("button",{type:"button",onClick:()=>D("google"),disabled:""!==b,className:"flex items-center px-6 py-2 border border-gray-300 rounded-full shadow-sm    hover:bg-gray-100 transition duration-200",children:[(0,a.jsx)(t.default,{src:"/auth-asset/google-logo.svg",alt:"Google",width:20,height:20}),(0,a.jsx)("span",{className:"ml-2 text-black text-sm font-medium",children:"google"===b?"Connecting...":"Sign in with Google"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("button",{type:"button",onClick:()=>D("facebook"),disabled:""!==b,className:"flex items-center px-6 py-2 border border-gray-300 rounded-full shadow-sm    hover:bg-gray-100 transition duration-200",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",fill:"currentColor",children:(0,a.jsx)("path",{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"})}),(0,a.jsx)("span",{className:"ml-2 text-black text-sm font-medium",children:"facebook"===b?"Connecting...":"Sign in with Facebook"})]})})]}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-black w-full flex justify-center items-center",children:["Don't have an account?",(0,a.jsx)(i(),{href:"/auth/signup",className:"text-[#FFC107] font-medium hover:underline ml-1",children:"Sign Up"})]})]})}),(0,a.jsx)("div",{className:"hidden md:block w-1/2  shrink-0 rounded-l-[40px] relative",children:(0,a.jsx)(t.default,{src:"/auth-asset/hero-bg.png",alt:"Background",layout:"fill",objectFit:"cover",className:"rounded-l-[40px]"})})]})}},34713:(e,s,r)=>{Promise.resolve().then(r.bind(r,7644))},43831:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(67401).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},63426:(e,s,r)=>{"use strict";r.d(s,{O5:()=>n,X5:()=>t});var a=r(10842);let t=a.z.object({email:a.z.string().email("Invalid email format").optional(),phone:a.z.string().min(10,"Phone number must be at least 10 digits").optional(),password:a.z.string().min(6,"Password must be at least 6 characters")}).refine(e=>e.email||e.phone,{message:"Either email or phone number is required",path:["email","phone"]});a.z.object({firstName:a.z.string().min(2,"First name must be at least 2 characters"),lastName:a.z.string().min(2,"Last name must be at least 2 characters"),email:a.z.string().email("Invalid email format"),phone:a.z.string().min(10,"Phone number must be at least 10 digits"),password:a.z.string().min(6,"Password must be at least 6 characters"),confirmPassword:a.z.string()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),a.z.object({email:a.z.string().email("Invalid email format").optional(),phone:a.z.string().min(10,"Phone number must be at least 10 digits").optional()}).refine(e=>e.email||e.phone,{message:"Either email or phone number is required",path:["email","phone"]}),a.z.object({password:a.z.string().min(6,"Password must be at least 6 characters"),confirmPassword:a.z.string()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});let n=a.z.object({name:a.z.string().min(1,"Full name is required").min(2,"Name must be at least 2 characters long").max(50,"Name must be less than 50 characters"),email:a.z.string().min(1,"Email is required").email("Please enter a valid email address"),phone:a.z.string().min(1,"Phone number is required").regex(/^[0-9]{10,15}$/,"Please enter a valid phone number (10-15 digits)").transform(e=>e.replace(/\s/g,"")),password:a.z.string().min(1,"Password is required").min(6,"Password must be at least 6 characters long").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:a.z.string().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});a.z.object({name:a.z.string().min(1,"Full name is required").min(2,"Name must be at least 2 characters long").max(50,"Name must be less than 50 characters").optional(),email:a.z.string().min(1,"Email is required").email("Please enter a valid email address").optional(),phone:a.z.string().min(1,"Phone number is required").regex(/^[0-9]{10,15}$/,"Please enter a valid phone number (10-15 digits)").transform(e=>e.replace(/\s/g,"")).optional(),address:a.z.string().min(1,"Address is required").max(200,"Address must be less than 200 characters").optional()}),a.z.object({currentPassword:a.z.string().min(1,"Current password is required"),newPassword:a.z.string().min(1,"New password is required").min(6,"Password must be at least 6 characters long").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmNewPassword:a.z.string().min(1,"Please confirm your new password")}).refine(e=>e.newPassword===e.confirmNewPassword,{message:"New passwords don't match",path:["confirmNewPassword"]}),a.z.object({otp:a.z.string().min(1,"OTP is required").length(6,"OTP must be exactly 6 digits").regex(/^[0-9]{6}$/,"OTP must contain only numbers")}),a.z.object({phone:a.z.string().min(1,"Phone number is required").regex(/^[0-9]{10,15}$/,"Please enter a valid phone number (10-15 digits)").transform(e=>e.replace(/\s/g,""))}),a.z.object({email:a.z.string().min(1,"Email is required").email("Please enter a valid email address")})},66462:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(67401).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},67401:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var a=r(12115);let t=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,s)=>{let{color:r="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:m="",children:d,iconNode:c,...u}=e;return(0,a.createElement)("svg",{ref:s,...i,width:t,height:t,stroke:r,strokeWidth:o?24*Number(l)/Number(t):l,className:n("lucide",m),...u},[...c.map(e=>{let[s,r]=e;return(0,a.createElement)(s,r)}),...Array.isArray(d)?d:[d]])}),o=(e,s)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:o,...m}=r;return(0,a.createElement)(l,{ref:i,iconNode:s,className:n("lucide-".concat(t(e)),o),...m})});return r.displayName="".concat(e),r}}},e=>{var s=s=>e(e.s=s);e.O(0,[844,3738,2615,5037,1337,8441,6587,7358],()=>s(34713)),_N_E=e.O()}]);