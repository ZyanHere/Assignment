(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8271],{9611:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(95155),r=a(76046),l=a(12115),n=a(39840),o=a(74913),c=a(5565);let i=e=>{let{name:t,location:a,banner:r}=e,[n,o]=(0,l.useState)(null);(0,l.useEffect)(()=>{o(Date.now()+10883e3)},[]);let i=(e=>{if(!e)return null;try{let t=new Date(e),a=new Date;if(t<a)return"Deal Expired";return"Ends: ".concat(t.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}))}catch(e){return null}})(n);return(0,s.jsxs)("div",{className:"relative w-full p-10",children:[(0,s.jsx)(c.default,{src:r,alt:"".concat(t," Store"),width:1200,height:500,className:"w-full h-auto rounded-lg object-contain",priority:!0}),(0,s.jsxs)("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-[80%] h-[200px] bg-[#EECB9F] p-10 rounded-2xl shadow-lg flex flex-col justify-around",children:[(0,s.jsx)("div",{className:"mb-2 text-center text-xs font-semibold p-2 rounded-lg shadow-sm border w-fit mx-auto ".concat("Deal Expired"===i?"text-red-600 bg-red-50 border-red-200":"text-blue-700 bg-blue-50 border-blue-200"),children:i}),(0,s.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,s.jsxs)("div",{className:"text-black font-semibold",children:[(0,s.jsx)("p",{className:"text-[34px]",children:t}),(0,s.jsx)("p",{className:"text-2xl opacity-80",children:a})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{className:"bg-white text-black text-[40px] font-semibold px-6 py-2 rounded-lg shadow-md hover:bg-gray-200 transition-all",disabled:"Deal Expired"===i||!n,children:"Deal Expired"===i?"Deal Expired":"Grab Deal"})})]})]})]})};var d=a(70803),x=a(48173),h=a.n(x);let m=()=>{let{slug:e}=(0,r.useParams)(),[t,a]=(0,l.useState)(null),[x,m]=(0,l.useState)({}),[u,p]=(0,l.useState)(!0),[f,g]=(0,l.useState)(null);return((0,l.useEffect)(()=>{(async function(){try{let t=await fetch("/api/stores/".concat(e));if(!t.ok)throw Error("Store not found");let s=await t.json();a(s.data)}catch(e){console.error(e),g("Store not found")}})()},[e]),(0,l.useEffect)(()=>{t&&(async()=>{try{let a={};await Promise.all(t.sections.map(async t=>{let s=await fetch("/api/products/store/".concat(e,"/").concat(encodeURIComponent(t)));if(!s.ok){a[t]=[];return}let r=await s.json();a[t]=r.data})),m(a)}catch(e){console.error(e),m({})}finally{p(!1)}})()},[t,e]),f)?(0,s.jsxs)("div",{className:"flex min-h-screen",children:[(0,s.jsx)(o.default,{}),(0,s.jsx)("div",{className:"flex-1 bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-2xl text-red-600 font-medium",children:f})})]}):!t||u?(0,s.jsxs)("div",{className:"flex min-h-screen",children:[(0,s.jsx)(o.default,{}),(0,s.jsx)("div",{className:"flex-1 bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-2xl text-gray-600",children:"Loadingâ€¦"})})]}):(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(o.default,{}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(n.default,{}),(0,s.jsxs)("div",{className:"p-6 mx-auto",children:[(0,s.jsxs)("nav",{className:"mb-4 text-black text-2xl",children:[(0,s.jsx)(h(),{href:"/stores",className:"hover:underline font-medium ",children:"Stores"})," ","> ",t.name]}),(0,s.jsx)(i,{name:t.name,location:t.location,banner:t.banner}),(0,s.jsx)("div",{className:"mt-12 bg-white rounded-xl shadow-lg overflow-hidden",children:(0,s.jsx)(c.default,{src:"/store/".concat(e,"-promo.png"),alt:"".concat(t.name," promotion"),width:1200,height:500,className:"w-full h-[400px] object-cover",priority:!0})}),(0,s.jsx)("div",{className:"mt-12 space-y-20",children:t.sections.map(a=>{let r=x[a]||[];return(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-8 text-gray-900",children:a}),r.length>0?(0,s.jsx)(d.A,{slug:e,name:t.name,location:t.location,logo:t.logo,distance:t.distance,products:r}):(0,s.jsx)("div",{className:"text-center py-12 bg-white rounded-lg",children:(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:"No products available in this category"})})]},a)})})]})]})]})}},35506:(e,t,a)=>{Promise.resolve().then(a.bind(a,9611))},74913:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(95155),r=a(5565),l=a(48173),n=a.n(l),o=a(76046);let c=()=>{let e=(0,o.usePathname)();return(0,s.jsxs)("div",{className:"w-[280px] h-screen bg-gray-50 shadow-sm border-r border-gray-100 p-6 flex flex-col",children:[(0,s.jsx)(n(),{href:"/",className:"pb-6 mb-6 border-b border-gray-100",children:(0,s.jsx)(r.default,{src:"/auth-asset/logo.png",alt:"Logo",width:80,height:60,className:"hover:scale-105 transition-transform"})}),(0,s.jsx)("nav",{className:"flex flex-col gap-1 flex-1",children:[{name:"Home",path:"/",icon:"/home/sidebar/home.png"},{name:"Categories",path:"/categories",icon:"/home/sidebar/categories2.png"},{name:"Stores",path:"/stores",icon:"/home/sidebar/stores2.png"},{name:"Cart",path:"/cart",icon:"/home/sidebar/cart2.png"},{name:"Orders",path:"/orders",icon:"/home/sidebar/orders2.png"}].map(t=>(0,s.jsx)(n(),{href:t.path,children:(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all\n                ".concat(e===t.path?"bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 font-semibold shadow-sm":"text-gray-600 hover:bg-gray-50 hover:pl-4"),children:[(0,s.jsx)(r.default,{src:t.icon,alt:t.name,width:22,height:22,className:"".concat(e===t.path?"opacity-100":"opacity-70")}),(0,s.jsx)("span",{className:"text-[15px]",children:t.name})]})},t.name))}),(0,s.jsx)("div",{className:"pt-6 border-t border-gray-100",children:(0,s.jsx)(n(),{href:"/settings",children:(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 text-gray-600 hover:bg-gray-50 rounded-xl transition hover:pl-4",children:[(0,s.jsx)(r.default,{src:"/home/sidebar/settings.png",alt:"Settings",width:22,height:22,className:"opacity-70"}),(0,s.jsx)("span",{className:"text-[15px]",children:"Settings"})]})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3738,2615,965,3391,8943,3177,9331,8038,8441,6587,7358],()=>t(35506)),_N_E=e.O()}]);